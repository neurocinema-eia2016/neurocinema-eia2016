<!DOCTYPE html>
<html >
    <head>
        <meta charset="UTF-8">
        <title>An emotion-based video player</title>
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/emoticon.css">
        <link type="text/css" rel="stylesheet" href="css/video-js.min.css" />
        <script>
            // getUserMedia only works over https in Chrome 47+, so we redirect to https. Also notify user if running from file.
            if (window.location.protocol == "file:") {
                alert("You seem to be running this example directly from a file. Note that these examples only work when served from a server or localhost due to canvas cross-domain restrictions.");
            } else if (window.location.hostname !== "localhost" && window.location.protocol !== "https:"){
                window.location.protocol = "https";
            }
        </script>
    </head>
    <body>
        <script src="js/video.js/video.min.js"></script>
        <script src="js/video-js/video.js"></script>
        <script src="js/Youtube.min.js"></script>
        <script src="js/utils.js"></script>
        <script src="js/clmtrackr/clm.js"></script>
        <script src="js/clmtrackr/clmtrackr.js"></script>
        <script src="js/models/model_pca_20_svm_emotionDetection.js"></script>
        <script src="js/clmtrackr/Stats.js"></script>
        <script src="js/models/d3.min.js"></script>
        <script src="js/models/emotion_classifier.js"></script>
        <script src="js/models/emotionmodel.js"></script>
        <script src="js/webgazer.js" type="text/javascript"></script>
        <script src="js/math.js" type="text/javascript"></script>
        <script src="js/index.js"></script>
        <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase.js"></script>

        <div id="container">
            <video id="videoel" width="400" height="300" preload="auto" loop></video>
            <canvas id="overlay" width="400" height="300"></canvas>
        </div>
        <div id="emotion_container">
            <div id="emotion_icons">
                <img class="emotion_icon" id="icon1" src="./media/icons/angry.png">
                <img class="emotion_icon" id="icon2" src="./media/icons/sad.png">
                <img class="emotion_icon" id="icon3" src="./media/icons/surprised.png">
                <img class="emotion_icon" id="icon4" src="./media/icons/happy.png">
            </div>
            <div id='emotion_chart'></div>
        </div>
            <div id="controls">
            <input class="btn" type="button" value="wait, loading video" disabled="disabled" onclick="startVideo()" id="startbutton"></input>
            <input class="btn" type="button" value="stop" disabled="enabled" onclick="startPlayer()" id="startplayer"></input>
        </div>
        
        <video id="youtube_player" data-setup="{}" controls="">
            <source src="media/Beetlejuice french scene - YouTube_360p.mp4" type="video/mp4">
        </video>
        <script>
            // Initialize Firebase
            var config = {
                apiKey: "AIzaSyBI1lAq_sWUkSyuw6_q9Tp4Xq57pTqQLUU",
                authDomain: "neurocinema-a859d.firebaseapp.com",
                databaseURL: "https://neurocinema-a859d.firebaseio.com",
                storageBucket: "neurocinema-a859d.appspot.com",
            };
            firebase.initializeApp(config);
        </script>
        <script src="js/webcam_video.js"></script>
        <script src="js/gazedata.js"></script>

    </body>
</html>
